name: "Test"
on:
  workflow_dispatch:
jobs:
  main:
    name: "${{matrix.os}} (Async: ${{matrix.operate_async}})"
    runs-on: "${{matrix.os}}"
    strategy:
      matrix:
        operate_async:
          - "False"
          - "True"
        os:
          - "macos-latest"
          - "ubuntu-latest"
          - "windows-latest"
      fail-fast: false
    steps:
      - name: "Optimize Disk Space"
        uses: "hugoalh/disk-space-optimizer-ghaction@main"
        env:
          INPUT_INTERNALTEST: "True"
        with:
          operate_async: "${{matrix.operate_async}}"
          general_include: ".+"
          docker_include: ".+"
          docker_prune: "True"
          docker_clean: "True"
          apt_prune: "True"
          apt_clean: "True"
          homebrew_prune: "True"
          homebrew_clean: "True"
          npm_prune: "True"
          npm_clean: "True"
          linux_swap: "True"
